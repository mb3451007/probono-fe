  <div class="card card-user">
    <div class="card-header">
      <h5 class="card-title text-capitalize">User Management: {{type === 'edit' ? 'Edit' : type === 'view' ? 'View' : type === 'password' ? 'Change ' + record.first_name + '\'s password.'  : 'New User'}}</h5>
    </div>
    <div class="card-body">
      <div class="col-12" *ngIf="isLoading">
        <div class="w-100 py-5 loading_wrapp align-items-center mx-auto my-5">
          <div class="text-center">
            <div class="spinner-grow text-success" style="width: 6rem; height: 6rem;" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <p class="text-muted fs-3 fw-normal my-5">Saving Changes, please wait...</p>
          </div>
        </div>
      </div>

      <form *ngIf="showForm && !isLoading" [formGroup]="formEntry" id="formEntry" (ngSubmit)="postData(formEntry.value)">
        <div class="row" *ngIf="type !== 'password'">
          <div class="col-6">
            <div class="form-group">
              <label>First name</label>
              <input [readonly]="type === 'view'" formControlName="first_name" type="text" class="form-control" placeholder="First name">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label>Last name</label>
              <input [readonly]="type === 'view'" formControlName="last_name" type="text" class="form-control" placeholder="Last name">
            </div>
          </div>
        </div>
        <div class="row" *ngIf="type !== 'password'">
          <div class="col-{{type === 'new' ? 6 : 12}}">
            <div class="form-group">
              <label>Email</label>
              <input [readonly]="type === 'view'" formControlName="email" type="email" class="form-control" placeholder="Email">
            </div>
          </div>
          <div class="col-6" *ngIf="type === 'new'">
            <div class="form-group">
              <label>Password</label>
              <input [readonly]="type === 'view'" formControlName="password" type="password" class="form-control" placeholder="Password">
            </div>
          </div>
        </div>
        <div class="row" *ngIf="type == 'password'">
          <div class="col-12">
            <div class="form-group">
              <label>Enter New Password</label>
              <input formControlName="password" type="text" class="form-control" placeholder="Password">
            </div>
          </div>
        </div>
        <div class="row" *ngIf="type !== 'password'">
          <div class="col-6">
            <div class="form-group">
              <label>Phone</label>
              <input [readonly]="type === 'view'" formControlName="phone" type="tel" class="form-control" placeholder="Phone">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label>Role (Permission)</label>
              <select [disabled]="type === 'view'" class="form-control select-control" name="role" placeholder="Choose" formControlName="permission">
                <option value="admin">Administrator</option>
                <option value="staff">Normal User</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="type != 'view'">
          <div class="update ml-auto mr-auto">
            <button *ngIf="type !== 'password'" type="submit" class="btn btn-primary btn-round">{{type === 'edit' ? 'Edit' : 'Create'}} User</button>
            <button *ngIf="type === 'password'" type="submit" class="btn btn-primary btn-round">Save New Password</button>
          </div>
        </div>
      </form>
    </div>

  </div>
