<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <div class="row">
          <div class="d-none d-sm-block  d-md-block  d-lg-block d-xl-block col-12 my-0 col-sm-12 col-md-12 col-xs-12">
          <h4 class="card-title my-1"> Volunteer Stats</h4>
          <p class="sum_text text-muted m-0">Click the small arrows to see alphabetical order or order in terms of words translated.</p>
          </div>
          <div class="col-12 col-xs-12">
            <div class="d-flex flex-row">
            <form class="rounded-5 w-100 search_inner_wrap mt-3 mb-0 mx-1 flex-1">
              <div class="input-group border-1 bg-white rounded-5" style="border-radius: 5px; overflow: hidden">
                <input type="text" value="" (keyup)="searchFor($event)" class="form-control rounded-5 bg-white" placeholder="First name...">
                <div class="input-group-append bg-white rounded-5">
                  <div class="input-group-text bg-white">
                    <i class="nc-icon nc-zoom-split"></i>
                  </div>
                </div>
              </div>
            </form>

            <ul class="rounded-5 navbar-nav special-button-per-page mt-3 mb-0 mx-1">
              <li class="nav-item btn-rotate" ngbDropdown placement="bottom-left">
                <a class="nav-link" ngbDropdownToggle id="navbarDropdownMenuLink" >
                  Show: {{totalItems}}
                </a>
                <div ngbDropdownMenu aria-labelledby="navbarDropdownMenuLink" class="dropdown-menu dropdown-menu-left">
                  <a ngbDropdownItem href="javascript:void(0)" (click)="setPerPage(10)">10</a>
                  <a ngbDropdownItem href="javascript:void(0)" (click)="setPerPage(50)">50</a>
                  <a ngbDropdownItem href="javascript:void(0)" (click)="setPerPage(100)">100</a>
                  <a ngbDropdownItem href="javascript:void(0)" (click)="setPerPage(250)">250</a>
                  <a ngbDropdownItem href="javascript:void(0)" (click)="setPerPage(10000)">Show all</a>
                </div>
              </li>
            </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body position-relative">
        <div class="w-100 py-5 loading_wrapp align-items-center mx-auto my-5" *ngIf="entriesVolunteers.length === 0">
          <div class="text-center">
            <div *ngIf="isLoading === true" class="spinner-grow text-success" style="width: 6rem; height: 6rem;" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <p *ngIf="isLoading === true" class="text-muted fs-3 fw-normal my-5">Loading records, please wait...</p>
            <p *ngIf="isLoading === false" class="text-muted fs-3 fw-normal my-5">No Records.</p>
          </div>
        </div>
        <div class="loading_wrapper_search" *ngIf="isSearching">
          <div class="text-center">
            <div class="spinner-grow text-success" style="width: 6rem; height: 6rem;" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <p class="text-muted fs-3 fw-normal my-5">Filtering records, please wait...</p>
          </div>
        </div>
        <div class="table-responsive" *ngIf="entriesVolunteers.length > 0">
          <table class="table">
            <thead class=" text-primary">
              <th>#</th>
              <th class="text-nowrap" (click)="sortData('name')">Names
                <button class="btn sort_button bg-{{sortType === 'name' ? 'success' : 'default'}}">
                  <i class="nc-icon nc-minimal-down" *ngIf="(sortType === 'name' && sortMode === 'asc') ||  sortType === '' || sortType === 'words' || sortType === 'stars'"></i>
                  <i class="nc-icon nc-minimal-up" *ngIf="sortType === 'name' && sortMode === 'desc'"></i>
                </button>
                </th>
                <th class="text-nowrap"><a routerLink="/belts-stars"> (Belt) Points</a></th>
                <th class="text-right text-nowrap"><a routerLink="/belts-stars">Stars</a>
                  <button (click)="sortData('stars')" class="btn ms-2 sort_button bg-{{sortType === 'stars' ? 'success' : 'default'}}">
                    <i class="nc-icon nc-minimal-down" *ngIf="(sortType === 'stars' && sortMode === 'asc') || sortType === '' || sortType === 'name' || sortType === 'words'"></i>
                    <i class="nc-icon nc-minimal-up" *ngIf="sortType === 'stars' && sortMode === 'desc'"></i>
                  </button>
                </th>
                <th>Profile</th>
                <th>Language</th>
                <th>Hours</th>
                <th class="text-right text-nowrap" (click)="sortData('words')">Words
                  <button class="btn sort_button bg-{{sortType === 'words' ? 'success' : 'default'}} text-{{sortType === 'words' ? 'white' : 'primary'}}">
                    <i class="nc-icon nc-minimal-down" *ngIf="(sortType === 'words' && sortMode === 'asc') || sortType === '' || sortType === 'name' || sortType === 'stars'"></i>
                    <i class="nc-icon nc-minimal-up" *ngIf="sortType === 'words' && sortMode === 'desc'"></i>
                  </button>
                </th>
            </thead>
            <tbody>
              <tr *ngFor="let rec of entriesVolunteers  | paginate: { itemsPerPage: itemsPerPage, currentPage: page, totalItems: totalItems}; let i = index">
                <td>{{i + 1}})</td>
                <td>{{rec?.first_name}} {{rec?.last_name}}</td>
                <td class="text-nowrap"><span class="belt_color {{rec?.belt}}">
                  <!--svg width="50" height="50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><title>Artboard-10</title><g id="Belt"><path d="M32,44A12,12,0,1,0,20,32,12.0134,12.0134,0,0,0,32,44Zm0-22A10,10,0,1,1,22,32,10.0114,10.0114,0,0,1,32,22Z" style="fill:{{rec?.belt}}"/><path d="M63,40H59.2783a51.323,51.323,0,0,0-15.1794,2.4387A15.9167,15.9167,0,0,0,44.1,21.5623,51.3251,51.3251,0,0,0,59.2783,24H63a1,1,0,0,0,0-2H59.2783A53.0612,53.0612,0,0,1,38.31,17.2993l-.0208-.0077a15.9557,15.9557,0,0,0-12.5773,0l-.0211.0078A53.0612,53.0612,0,0,1,4.7217,22H1a1,1,0,0,0,0,2H4.7217A51.3246,51.3246,0,0,0,19.9,21.5623a15.9167,15.9167,0,0,0,.0009,20.8764A51.323,51.323,0,0,0,4.7217,40H1a1,1,0,0,0,0,2H4.7217a53.0894,53.0894,0,0,1,20.9707,4.7017l.0221.0082a15.957,15.957,0,0,0,12.5713,0l.0218-.0081A53.0894,53.0894,0,0,1,59.2783,42H63a1,1,0,0,0,0-2ZM26.4975,19.13A13.995,13.995,0,1,1,18,32,14.0295,14.0295,0,0,1,26.4975,19.13Z" style="fill:{{rec?.belt}}"/><path d="M52,29v6a1,1,0,0,0,2,0V29a1,1,0,0,0-2,0Z" style="fill:{{rec?.belt}}"/><path d="M56,29v6a1,1,0,0,0,2,0V29a1,1,0,0,0-2,0Z" style="fill:{{rec?.belt}}"/><path d="M11,32a3,3,0,1,0-3,3A3.0033,3.0033,0,0,0,11,32ZM7,32a1,1,0,1,1,1,1A1.0009,1.0009,0,0,1,7,32Z" style="fill:{{rec?.belt}}"/><path d="M28.0342,33.3691l-.5938,3.462a1,1,0,0,0,1.45,1.0542L32,36.251l3.1094,1.6343a1,1,0,0,0,1.45-1.0542l-.5938-3.462,2.5156-2.4511a1,1,0,0,0-.5546-1.7061l-3.4756-.5049-1.5547-3.1494a1.0409,1.0409,0,0,0-1.793,0L29.5488,28.707l-3.4756.5049a1,1,0,0,0-.5546,1.7061Zm2.3222-2.7583a.9986.9986,0,0,0,.753-.5473L32,28.26l.8906,1.8037a.9986.9986,0,0,0,.753.5473l1.99.2891-1.44,1.4038a1.0009,1.0009,0,0,0-.2871.8853l.34,1.9829-1.7813-.9361a.9991.9991,0,0,0-.93,0l-1.7813.9361.34-1.9829a1.0013,1.0013,0,0,0-.2872-.8853L28.3662,30.9Z" style="fill:{{rec?.belt}}"/></g>
                  </svg-->
                  </span>
                  {{rec?.points ? (rec?.points | currency : '' : '' : '2.0') : 0}}
                </td>
                <td class="text-nowrap">
                  {{rec?.stars || 0}}
                  <span class="star_wrapper">
                    <svg width="18" height="18" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                      <polygon points="50,0 63,38 100,38 69,62 81,100 50,75 19,100 31,62 0,38 37,38" [attr.fill]="rec?.star_color" stroke="gray" />
                    </svg>
                  </span>
                </td>
                <td><a [href]="rec?.profile" target="_blank">{{rec?.profile}}</a></td>
                <td>{{rec?.language}} ({{rec?.language_code}})<!--ng-container *ngIf="rec?.secondary_languages?.length > 0">;
                    <span *ngFor="let lng of rec?.secondary_languages; let j = index"> {{lng.name}}<ng-container *ngIf="j < rec?.secondary_languages?.length - 1">, </ng-container> </span>
                  </ng-container-->
                </td>
                <td class="text-left">{{rec?.hours ? (rec?.hours | currency : '' : '' : '2.0') : 0}}</td>
                <td class="text-right">{{rec?.words ? (rec?.words | currency : '' : '' : '2.0') : 0}}</td>
              </tr>
            </tbody>
          </table>
          <pagination-controls class="pagi" (pageChange)="loadPage($event)"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>
